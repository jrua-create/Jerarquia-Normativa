<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Jerarquía Normativa</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
        ul { list-style-type: none; padding: 0; width: 250px; margin: auto; }
        li { padding: 10px; margin: 5px; background-color: #eee; cursor: grab; border-radius: 5px; }
        #luz { width: 50px; height: 50px; border-radius: 50%; margin: 20px auto; background-color: red; }
        button { padding: 10px 20px; margin-top: 10px; font-size: 16px; }
    </style>
</head>
<body>
    <h1>Jerarquía Normativa</h1>
    <ul id="lista"></ul>
    <div id="luz"></div>
    <button onclick="reset()">Reset</button>

    <script>
        const normasCorrectas = [
            "Derecho Comunitario",
            "Constitución",
            "Tratados Internacionales",
            "Leyes y Leyes autonómicas",
            "Real Decreto Legislativo y Real Decreto Ley",
            "Reglamentos",
            "Costumbres",
            "Principios Generales del Derecho"
        ];

        let normas = [...normasCorrectas];

        const lista = document.getElementById("lista");
        const luz = document.getElementById("luz");

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function actualizarLista() {
            lista.innerHTML = "";
            normas.forEach((n, i) => {
                const li = document.createElement("li");
                li.textContent = n;
                li.draggable = true;

                li.addEventListener("dragstart", e => {
                    e.dataTransfer.setData("text/plain", i);
                });

                li.addEventListener("dragover", e => e.preventDefault());

                li.addEventListener("drop", e => {
                    const index = e.dataTransfer.getData("text/plain");
                    const temp = normas[i];
                    normas[i] = normas[index];
                    normas[index] = temp;
                    actualizarLista();
                    actualizarLuz();
                });

                lista.appendChild(li);
            });
        }

        function actualizarLuz() {
            luz.style.backgroundColor = normas.join() === normasCorrectas.join() ? "green" : "red";
        }

        function reset() {
            normas = [...normasCorrectas];
            shuffle(normas);
            actualizarLista();
            actualizarLuz();
        }

        // Inicial
        shuffle(normas);
        actualizarLista();
        actualizarLuz();
    </script>
</body>
</html>
